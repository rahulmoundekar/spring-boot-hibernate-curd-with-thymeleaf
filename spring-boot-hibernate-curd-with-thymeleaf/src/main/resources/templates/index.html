<!DOCTYPE html>
<html xmlns=th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
	<div class="container-fluid p-5 bg-primary text-white text-center">
		<h1>Employee Management System</h1>
	</div>
	<div class="container mt-5">
		<div class="row">
			<div class="col-sm-12">
				<div class="alert alert-success" th:if="${success!=null}">
					<span th:text="${success}"></span>
				</div>
				<div class="alert alert-danger" th:if="${error!=null}">
					<span th:text="${error}"></span>
				</div>
				<form th:action="@{employee}" method="post" th:object="${employeeForm}">
					<input type="hidden" class="form-control" id="id" th:field="*{id}">

					<div class="mb-3 mt-3">
						<label for="name">Name:</label>
						<input type="text" class="form-control" id="name" placeholder="Enter Name" th:field="*{name}">
						</input>
					</div>
					<div class="mb-3">
						<label for="age">Age:</label>
						<input type="number" class="form-control" id="age" placeholder="Enter Age" th:field="*{age}">
						</input>
					</div>
					<div class="mb-3">
						<label for="mobile">Mobile:</label>
						<input type="number" class="form-control" id="mobile" placeholder="Enter Mobile"
							th:field="*{mobile}"></input>
					</div>
					<div class="mb-3">
						<label for="salary">Salary:</label>
						<input type="number" class="form-control" id="salary" placeholder="Enter Salary"
							th:field="*{salary}">
						</input>
					</div>
					<button type="submit" class="btn btn-primary" th:if="${employeeForm.id!=null}">Update</button>
					<button type="submit" class="btn btn-primary" th:if="${employeeForm.id==null}">Add</button>
					</c:choose>
				</form>
			</div>
			<div class="container mt-3">
				<h2>Employee List</h2>

				<table class="table table-hover">
					<thead>
						<tr>
							<th>ID</th>
							<th>NAME</th>
							<th>AGE</th>
							<th>MOBILE</th>
							<th>SALARY</th>
							<th>ACTION</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="employee :${employees}">
							<td th:text="${employee.id}"></td>
							<td th:text="${employee.name}"></td>
							<td th:text="${employee.age}"></td>
							<td th:text="${employee.mobile}"></td>
							<td th:text="${employee.salary}"></td>
							<td><a th:href="@{edit?(id=${employee.id})}">Edit</a>
								<a th:href="@{delete?(id=${employee.id})}">Delete</a>
							</td>
						</tr>
						</c:forEach>
					</tbody>
				</table>
			</div>

		</div>
	</div>
</body>

</html>